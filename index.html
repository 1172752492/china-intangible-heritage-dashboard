
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å›½éç‰©è´¨æ–‡åŒ–é—äº§æ•°å­—åŒ–å¤§å±</title>
    <!-- åŸºç¡€æ ·å¼ä¸å­—ä½“ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ UMD åº“ -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Orbitron:wght@400;700&display=swap');
        
        :root {
            --heritage-red: #8e1c1c;
            --heritage-gold: #c5a059;
            --heritage-cyan: #00e5ff;
            --bg-dark: #0a0a0f;
        }

        body {
            background-color: var(--bg-dark);
            color: #e2e8f0;
            margin: 0;
            overflow: hidden;
            font-family: 'Noto Serif SC', serif;
            user-select: none;
        }

        .digital-font { font-family: 'Orbitron', sans-serif; }

        /* é¢æ¿åŸºç¡€æ ·å¼ */
        .glass-panel {
            background: rgba(15, 15, 25, 0.8);
            border: 1px solid rgba(197, 160, 89, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8), inset 0 0 20px rgba(197, 160, 89, 0.05);
            backdrop-filter: blur(12px);
            border-radius: 2px;
            position: relative;
            transition: all 0.3s ease;
        }

        .glass-panel:hover {
            border-color: rgba(197, 160, 89, 0.4);
            box-shadow: 0 8px 40px 0 rgba(0, 0, 0, 0.9), inset 0 0 30px rgba(197, 160, 89, 0.08);
        }

        /* è£…é¥°è§’ */
        .trad-corner {
            position: absolute;
            width: 14px;
            height: 14px;
            border-color: var(--heritage-gold);
            border-style: solid;
            opacity: 0.7;
            pointer-events: none;
            z-index: 10;
        }
        .tc-tl { top: -1px; left: -1px; border-width: 2px 0 0 2px; }
        .tc-tr { top: -1px; right: -1px; border-width: 2px 2px 0 0; }
        .tc-bl { bottom: -1px; left: -1px; border-width: 0 0 2px 2px; }
        .tc-br { bottom: -1px; right: -1px; border-width: 0 2px 2px 0; }

        .panel-header {
            background: linear-gradient(90deg, rgba(142, 28, 28, 0.6) 0%, rgba(142, 28, 28, 0) 100%);
            border-left: 4px solid var(--heritage-red);
            padding: 6px 15px;
            font-size: 0.9rem;
            font-weight: bold;
            color: var(--heritage-gold);
            letter-spacing: 2px;
            margin-bottom: 12px;
            text-shadow: 0 0 10px rgba(197, 160, 89, 0.5);
        }

        /* æ»šåŠ¨æ¡ */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); }
        ::-webkit-scrollbar-thumb { background: var(--heritage-gold); border-radius: 10px; }

        /* åœ°å›¾æ‰«æçº¿åŠ¨ç”» */
        @keyframes scan {
            0% { transform: translateY(-100%); opacity: 0; }
            50% { opacity: 0.5; }
            100% { transform: translateY(100%); opacity: 0; }
        }
        .scanner-line {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 50%;
            background: linear-gradient(to bottom, transparent, rgba(197, 160, 89, 0.1), transparent);
            animation: scan 4s linear infinite;
            pointer-events: none;
        }

        /* æŒ‰é’®çŠ¶æ€ */
        .btn-active {
            background: rgba(142, 28, 28, 0.5) !important;
            border-color: var(--heritage-gold) !important;
            color: white !important;
            box-shadow: 0 0 20px rgba(197, 160, 89, 0.4), inset 0 0 10px rgba(197, 160, 89, 0.2);
            transform: scale(1.02);
        }

        /* åˆ—è¡¨é¡¹æ‚¬åœ */
        .discovery-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 2px solid transparent;
        }
        .discovery-card:hover {
            background: rgba(197, 160, 89, 0.1);
            border-left-color: var(--heritage-gold);
            padding-left: 12px;
        }
        .discovery-card.active {
            background: rgba(142, 28, 28, 0.2);
            border-left-color: var(--heritage-red);
            padding-left: 12px;
        }

        /* æ•°å­—è·³åŠ¨ */
        .number-glow {
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        }

        /* æ—‹è½¬Logo */
        @keyframes rotate-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .logo-rotate { animation: rotate-slow 20s linear infinite; }
    </style>
<script type="importmap">
{
  "imports": {
    "vite": "https://esm.sh/vite@^7.3.0",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2",
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "echarts": "https://esm.sh/echarts@^6.0.0"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        // --- æ¨¡æ‹Ÿæ•°æ®åº“ ---
        const CATEGORIES = ["å…¨éƒ¨", "æ°‘é—´æ–‡å­¦", "ä¼ ç»ŸéŸ³ä¹", "ä¼ ç»Ÿèˆè¹ˆ", "ä¼ ç»Ÿæˆå‰§", "æ›²è‰º", "ä½“è‚²æ‚æŠ€", "ä¼ ç»Ÿç¾æœ¯", "ä¼ ç»ŸæŠ€è‰º", "ä¼ ç»ŸåŒ»è¯", "æ°‘ä¿—"];
        const PROVINCES = ['åŒ—äº¬å¸‚', 'å¤©æ´¥å¸‚', 'æ²³åŒ—çœ', 'å±±è¥¿çœ', 'å†…è’™å¤è‡ªæ²»åŒº', 'è¾½å®çœ', 'å‰æ—çœ', 'é»‘é¾™æ±Ÿçœ', 'ä¸Šæµ·å¸‚', 'æ±Ÿè‹çœ', 'æµ™æ±Ÿçœ', 'å®‰å¾½çœ', 'ç¦å»ºçœ', 'æ±Ÿè¥¿çœ', 'å±±ä¸œçœ', 'æ²³å—çœ', 'æ¹–åŒ—çœ', 'æ¹–å—çœ', 'å¹¿ä¸œçœ', 'å¹¿è¥¿å£®æ—è‡ªæ²»åŒº', 'æµ·å—çœ', 'é‡åº†å¸‚', 'å››å·çœ', 'è´µå·çœ', 'äº‘å—çœ', 'è¥¿è—è‡ªæ²»åŒº', 'é™•è¥¿çœ', 'ç”˜è‚ƒçœ', 'é’æµ·çœ', 'å®å¤å›æ—è‡ªæ²»åŒº', 'æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº', 'é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº', 'æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº', 'å°æ¹¾çœ'];
        
        const generateDatabase = () => {
            const db = {};
            CATEGORIES.forEach(cat => {
                const provinceData = PROVINCES.map(p => ({
                    name: p,
                    value: cat === "å…¨éƒ¨" ? Math.floor(Math.random() * 260) + 80 : Math.floor(Math.random() * 50) + 5
                }));
                const categoryDistribution = CATEGORIES.slice(1).map(c => ({
                    name: c,
                    value: Math.floor(Math.random() * 400) + 100
                }));
                const radarData = [
                    Math.floor(Math.random() * 30) + 70, 
                    Math.floor(Math.random() * 40) + 60, 
                    Math.floor(Math.random() * 20) + 80, 
                    Math.floor(Math.random() * 50) + 50, 
                    Math.floor(Math.random() * 30) + 70
                ];
                db[cat] = { provinceData, categoryDistribution, radarData, total: provinceData.reduce((acc, curr) => acc + curr.value, 0) };
            });
            return db;
        };

        const database = generateDatabase();
        
        const DISCOVERY_ITEMS = [
            { id: 1, name: "è‹—æ—å¤æ­Œ", loc: "è´µå·çœ", type: "æ°‘é—´æ–‡å­¦", date: "2024-05-12", desc: "è‹—æ—ç™¾ç§‘å…¨ä¹¦å¼è‹±é›„å²è¯—ï¼Œæ‰¿è½½ç€æ°‘æ—çš„èµ·æºè®°å¿†ã€‚" },
            { id: 2, name: "æ˜†æ›²", loc: "æ±Ÿè‹çœ", type: "ä¼ ç»Ÿæˆå‰§", date: "2024-05-10", desc: "ç™¾æˆä¹‹ç¥–ï¼Œä»¥å©‰è½¬ç»†è…»çš„â€œæ°´ç£¨è…”â€è‘—ç§°äºä¸–ã€‚" },
            { id: 3, name: "å®£çº¸åˆ¶ä½œæŠ€è‰º", loc: "å®‰å¾½çœ", type: "ä¼ ç»ŸæŠ€è‰º", date: "2024-05-08", desc: "çº¸å¯¿åƒå¹´ï¼Œå¢¨éŸµä¸‡å˜ï¼Œæ˜¯ä¸­å›½ä¹¦æ³•ç”»ä½œçš„çµé­‚è½½ä½“ã€‚" },
            { id: 4, name: "æ ¼è¨å°”", loc: "è¥¿è—è‡ªæ²»åŒº", type: "æ°‘é—´æ–‡å­¦", date: "2024-05-05", desc: "ä¸–ç•Œä¸Šæœ€é•¿çš„æ´»æ€å²è¯—ï¼Œè®°å½•äº†è‹±é›„æ ¼è¨å°”ç‹çš„ä¸°åŠŸä¼Ÿç»©ã€‚" },
            { id: 5, name: "é¾™æ³‰é’ç“·", loc: "æµ™æ±Ÿçœ", type: "ä¼ ç»ŸæŠ€è‰º", date: "2024-05-01", desc: "é’å¦‚ç‰ã€æ˜å¦‚é•œã€å£°å¦‚ç£¬ï¼Œå±•ç°æè‡´çš„ä¸œæ–¹å®¡ç¾ã€‚" },
            { id: 6, name: "è¥¿å®‰é¼“ä¹", loc: "é™•è¥¿çœ", type: "ä¼ ç»ŸéŸ³ä¹", date: "2024-04-28", desc: "å”å®‹å¤ä¹çš„é—å“ï¼Œè¢«èª‰ä¸ºâ€œä¸­å›½å¤ä»£éŸ³ä¹çš„æ´»åŒ–çŸ³â€ã€‚" }
        ];

        // --- è¾…åŠ© Hook ---
        const useCountUp = (end, duration = 1000) => {
            const [count, setCount] = useState(0);
            useEffect(() => {
                let start = 0;
                const increment = end / (duration / 16);
                const timer = setInterval(() => {
                    start += increment;
                    if (start >= end) {
                        setCount(Math.floor(end));
                        clearInterval(timer);
                    } else {
                        setCount(Math.floor(start));
                    }
                }, 16);
                return () => clearInterval(timer);
            }, [end]);
            return count;
        };

        // --- UI ç»„ä»¶ ---
        const Header = () => {
            const [time, setTime] = useState(new Date().toLocaleString('zh-CN', { hour12: false }));
            useEffect(() => {
                const timer = setInterval(() => setTime(new Date().toLocaleString('zh-CN', { hour12: false })), 1000);
                return () => clearInterval(timer);
            }, []);
            return (
                <div className="h-20 w-full flex items-center justify-between px-10 mb-4 bg-black/60 border-b border-[#c5a059]/30 backdrop-blur-md relative z-50">
                    <div className="flex items-center gap-4">
                        <div className="w-12 h-12 border-2 border-[#c5a059] flex items-center justify-center rotate-45 group cursor-help">
                            <div className="rotate-[-45deg] text-[#c5a059] font-bold text-xl group-hover:scale-110 transition-transform">é</div>
                        </div>
                        <div className="flex flex-col">
                            <span className="text-[10px] text-gray-500 tracking-[0.3em] uppercase font-bold">Intangible Heritage</span>
                            <span className="text-xs text-green-500 font-bold tracking-tighter digital-font">DIGITAL SYSTEM v3.0</span>
                        </div>
                    </div>
                    
                    <div className="absolute left-1/2 -translate-x-1/2 flex flex-col items-center">
                        <h1 className="text-4xl font-bold tracking-[0.6em] text-white drop-shadow-[0_0_15px_rgba(197,160,89,0.6)]">
                            ä¸­å›½éç‰©è´¨æ–‡åŒ–é—äº§æ•°å­—åŒ–å¤§å±
                        </h1>
                        <div className="w-[120%] h-[1px] bg-gradient-to-r from-transparent via-[#c5a059] to-transparent mt-2"></div>
                    </div>

                    <div className="text-[#c5a059] font-mono digital-font text-2xl flex flex-col items-end">
                        <span className="opacity-90">{time}</span>
                        <span className="text-[10px] text-gray-600 mt-1">REAL-TIME DATA SYNC ACTIVE</span>
                    </div>
                </div>
            );
        };

        const Panel = ({ title, children, className, icon }) => (
            <div className={`glass-panel p-4 flex flex-col min-h-0 ${className}`}>
                <div className="trad-corner tc-tl"></div><div className="trad-corner tc-tr"></div>
                <div className="trad-corner tc-bl"></div><div className="trad-corner tc-br"></div>
                <div className="panel-header mb-3 flex items-center justify-between">
                    <div className="flex items-center gap-2">
                        {icon && <span className="text-red-500">{icon}</span>}
                        {title}
                    </div>
                    <div className="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                </div>
                <div className="flex-1 w-full min-h-0 relative">
                    {children}
                </div>
            </div>
        );

        // --- ä¸»ç¨‹åº ---
        const App = () => {
            const [activeCategory, setActiveCategory] = useState("å…¨éƒ¨");
            const [selectedItem, setSelectedItem] = useState(null);
            
            const mapRef = useRef(null);
            const pieRef = useRef(null);
            const barRef = useRef(null);
            const radarRef = useRef(null);
            const charts = useRef({});
            
            const currentData = useMemo(() => database[activeCategory], [activeCategory]);
            const animatedTotal = useCountUp(currentData.total);

            // è”åŠ¨å¤„ç†å‡½æ•°
            const handleDiscoveryClick = (item) => {
                setSelectedItem(item.id);
                const chart = charts.current.map;
                if (chart) {
                    // 1. è§†è§’å¾®è°ƒï¼šèšç„¦åˆ°çœä»½
                    chart.setOption({
                        geo: {
                            center: undefined, // ECharts map center is tricky, we'll use highlight
                            zoom: 1.2
                        }
                    });
                    
                    // 2. è§¦å‘é«˜äº®åŠ¨ç”»
                    chart.dispatchAction({ type: 'downplay', seriesIndex: 0 });
                    chart.dispatchAction({ type: 'highlight', name: item.loc });
                    chart.dispatchAction({ type: 'showTip', name: item.loc });

                    // 3. æ¨¡æ‹Ÿâ€œç‚¹å‡»æ³¢çº¹â€ï¼šå»¶è¿Ÿå–æ¶ˆé«˜äº®å†é‡æ–°é«˜äº®
                    setTimeout(() => {
                        chart.dispatchAction({ type: 'highlight', name: item.loc });
                    }, 500);
                }
            };

            useEffect(() => {
                const initCharts = async () => {
                    // åœ°å›¾åˆå§‹åŒ–
                    if (!charts.current.map && mapRef.current) {
                        charts.current.map = echarts.init(mapRef.current);
                        try {
                            const res = await fetch('https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json');
                            const geoJson = await res.json();
                            echarts.registerMap('china', geoJson);
                        } catch (e) { console.error("åœ°å›¾åŠ è½½å¤±è´¥", e); }
                    }
                    updateMap();
                    
                    // å…¶ä»–å›¾è¡¨åˆå§‹åŒ–
                    if (!charts.current.pie && pieRef.current) charts.current.pie = echarts.init(pieRef.current);
                    if (!charts.current.bar && barRef.current) charts.current.bar = echarts.init(barRef.current);
                    if (!charts.current.radar && radarRef.current) charts.current.radar = echarts.init(radarRef.current);
                    
                    updatePie();
                    updateBar();
                    updateRadar();
                };

                const timer = requestAnimationFrame(initCharts);
                const resize = () => Object.values(charts.current).forEach(c => c?.resize());
                window.addEventListener('resize', resize);
                return () => { cancelAnimationFrame(timer); window.removeEventListener('resize', resize); };
            }, [activeCategory, currentData]);

            const updateMap = () => {
                const chart = charts.current.map;
                if (!chart) return;
                const max = Math.max(...currentData.provinceData.map(d => d.value), 10);
                chart.setOption({
                    tooltip: { 
                        trigger: 'item', 
                        backgroundColor: 'rgba(10, 10, 15, 0.95)', 
                        borderColor: '#c5a059', 
                        borderWidth: 1,
                        textStyle: { color: '#fff', fontSize: 12 },
                        formatter: (params) => `
                            <div style="padding: 5px">
                                <span style="color: #c5a059; font-weight: bold">${params.name}</span><br/>
                                <span style="color: #888">${activeCategory}é¡¹ç›®ï¼š</span>
                                <span style="color: #00e5ff; font-family: Orbitron">${params.value || 0}</span>
                            </div>
                        `
                    },
                    visualMap: { 
                        min: 0, max: max, left: 30, bottom: 30, 
                        itemWidth: 15, itemHeight: 120,
                        text: ['å¯†é›†', 'ç¨€ç–'],
                        textStyle: { color: '#888', fontSize: 10 }, 
                        inRange: { color: ['#1a1a2e', '#4b0000', '#8e1c1c', '#c5a059'] } 
                    },
                    geo: { 
                        map: 'china', roam: true, zoom: 1.15, 
                        label: { show: false },
                        itemStyle: { 
                            areaColor: '#0a0a0f', 
                            borderColor: 'rgba(197,160,89,0.3)', 
                            borderWidth: 1,
                            shadowColor: 'rgba(0,0,0,0.5)',
                            shadowBlur: 10
                        }, 
                        emphasis: { 
                            itemStyle: { areaColor: '#ff4d4f', shadowBlur: 20, shadowColor: 'rgba(255,0,0,0.4)' },
                            label: { show: true, color: '#fff' }
                        } 
                    },
                    series: [{ type: 'map', geoIndex: 0, data: currentData.provinceData }]
                }, true);
            };

            const updatePie = () => {
                const chart = charts.current.pie;
                if (!chart) return;
                chart.setOption({
                    tooltip: { trigger: 'item', backgroundColor: '#0a0a0f', borderColor: '#c5a059', textStyle: { color: '#fff' } },
                    series: [{
                        type: 'pie', radius: ['45%', '75%'], center: ['50%', '50%'],
                        itemStyle: { borderRadius: 2, borderColor: '#0a0a0f', borderWidth: 2 },
                        label: { show: false },
                        emphasis: { label: { show: true, formatter: '{b}\n{d}%', fontSize: 12, color: '#c5a059' } },
                        data: currentData.categoryDistribution,
                        color: ['#8e1c1c', '#c5a059', '#1e3a8a', '#065f46', '#7c2d12', '#4c1d95', '#1e1b4b']
                    }]
                }, true);
            };

            const updateBar = () => {
                const chart = charts.current.bar;
                if (!chart) return;
                const sorted = [...currentData.provinceData].sort((a, b) => b.value - a.value).slice(0, 8);
                chart.setOption({
                    grid: { top: 10, bottom: 10, left: 75, right: 40 },
                    xAxis: { type: 'value', axisLine: { show: false }, splitLine: { show: false }, axisLabel: { show: false } },
                    yAxis: { 
                        type: 'category', 
                        data: sorted.map(d => d.name).reverse(), 
                        axisLine: { lineStyle: { color: 'rgba(197,160,89,0.2)' } }, 
                        axisLabel: { color: '#aaa', fontSize: 10 } 
                    },
                    series: [{
                        type: 'bar', data: sorted.map(d => d.value).reverse(),
                        itemStyle: { 
                            color: new echarts.graphic.LinearGradient(1, 0, 0, 0, [{ offset: 0, color: '#c5a059' }, { offset: 1, color: '#8e1c1c' }]), 
                            borderRadius: [0, 2, 2, 0] 
                        },
                        label: { show: true, position: 'right', color: '#c5a059', fontSize: 10, fontFamily: 'Orbitron' }
                    }]
                }, true);
            };

            const updateRadar = () => {
                const chart = charts.current.radar;
                if (!chart) return;
                chart.setOption({
                    radar: {
                        indicator: [{ name: 'ä¿æŠ¤åŠ›åº¦', max: 100 }, { name: 'æµè¡Œåº¦', max: 100 }, { name: 'å†å²ä»·å€¼', max: 100 }, { name: 'æ•°å­—åŒ–ç‡', max: 100 }, { name: 'ä¼ æ‰¿è§„æ¨¡', max: 100 }],
                        radius: '60%', splitNumber: 4, 
                        axisName: { color: '#c5a059', fontSize: 11 },
                        splitLine: { lineStyle: { color: 'rgba(197, 160, 89, 0.15)' } }, 
                        splitArea: { show: true, areaStyle: { color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0)'] } }
                    },
                    series: [{ 
                        type: 'radar', 
                        data: [{ 
                            value: currentData.radarData, 
                            areaStyle: { color: 'rgba(142, 28, 28, 0.4)' }, 
                            lineStyle: { color: '#c5a059', width: 2 },
                            symbol: 'none'
                        }] 
                    }]
                }, true);
            };

            return (
                <div className="h-screen w-screen flex flex-col overflow-hidden bg-[#0a0a0f] relative">
                    {/* é¡µé¢è£…é¥° */}
                    <div className="absolute inset-0 opacity-[0.03] pointer-events-none" style={{backgroundImage: 'url("https://www.transparenttextures.com/patterns/handmade-paper.png")'}}></div>
                    
                    <Header />

                    <div className="flex-1 grid grid-cols-12 grid-rows-6 gap-5 px-6 pb-6 min-h-0 relative z-10">
                        {/* å·¦ä¾§åŒºåŸŸ */}
                        <div className="col-span-3 row-span-6 flex flex-col gap-5 min-h-0">
                            <Panel title="éé—é—¨ç±»æ£€ç´¢" icon="ğŸ”" className="h-[40%]">
                                <div className="grid grid-cols-2 gap-2 p-1 overflow-y-auto h-full pr-2 scrollbar-thin">
                                    {CATEGORIES.map(cat => (
                                        <button 
                                            key={cat} 
                                            onClick={() => setActiveCategory(cat)} 
                                            className={`py-3 px-1 text-xs rounded transition-all duration-300 border flex flex-col items-center justify-center gap-1 ${activeCategory === cat ? 'btn-active' : 'bg-white/5 border-white/5 text-gray-500 hover:border-[#c5a059]/50 hover:bg-white/10'}`}
                                        >
                                            <span className="font-bold">{cat}</span>
                                            <span className="text-[8px] opacity-40 digital-font uppercase">Catalog</span>
                                        </button>
                                    ))}
                                </div>
                            </Panel>

                            <Panel title="æ ¸å¿ƒæŒ‡æ ‡è¯„ä¼°" icon="ğŸ“Š" className="flex-1">
                                <div ref={radarRef} className="w-full h-full" />
                            </Panel>

                            <div className="glass-panel p-5 border-l-4 border-l-[#c5a059] flex-shrink-0 bg-gradient-to-r from-[#c5a059]/10 to-transparent">
                                <span className="text-[10px] text-gray-500 uppercase tracking-widest font-bold">Current Statistics</span>
                                <div className="flex items-baseline gap-2 mt-1">
                                    <span className="text-4xl font-bold text-white digital-font number-glow">{animatedTotal}</span>
                                    <span className="text-xs text-[#c5a059]">é¡¹æ•°å­—åŒ–æ¡£æ¡ˆ</span>
                                </div>
                            </div>
                        </div>

                        {/* ä¸­é—´ä¸»å›¾åŒºåŸŸ */}
                        <div className="col-span-6 row-span-6 flex flex-col gap-5 min-h-0">
                            <div className="flex-1 glass-panel relative overflow-hidden group">
                                <div className="trad-corner tc-tl"></div><div className="trad-corner tc-tr"></div>
                                <div className="trad-corner tc-bl"></div><div className="trad-corner tc-br"></div>
                                <div className="scanner-line"></div>
                                
                                <div className="absolute top-8 left-8 z-20 pointer-events-none">
                                    <h3 className="text-[#c5a059] text-3xl font-bold tracking-widest flex items-center gap-4">
                                        <div className="w-12 h-0.5 bg-[#c5a059]"></div>
                                        {activeCategory} Â· å…¨å›½åˆ†å¸ƒå›¾è°±
                                    </h3>
                                    <p className="text-gray-500 text-[10px] ml-16 mt-2 tracking-[0.4em] uppercase font-bold">Interactive Digital Heritage Atlas</p>
                                </div>

                                <div ref={mapRef} className="w-full h-full map-glow cursor-crosshair" />
                                
                                {/* è£…é¥°ç½—ç›˜ */}
                                <div className="absolute bottom-10 right-10 w-24 h-24 opacity-20 logo-rotate pointer-events-none">
                                    <svg viewBox="0 0 100 100" className="w-full h-full stroke-[#c5a059] fill-none">
                                        <circle cx="50" cy="50" r="45" strokeWidth="0.5" strokeDasharray="5,5" />
                                        <path d="M50 5 L50 15 M50 85 L50 95 M5 50 L15 50 M85 50 L95 50" strokeWidth="1" />
                                        <path d="M30 30 L70 70 M30 70 L70 30" strokeWidth="0.5" />
                                    </svg>
                                </div>
                            </div>

                            <div className="h-28 flex gap-5 flex-shrink-0">
                                <div className="flex-1 glass-panel p-6 flex items-center justify-between group hover:bg-[#8e1c1c]/10 cursor-pointer">
                                    <div className="flex flex-col">
                                        <span className="text-[10px] text-gray-500 uppercase font-bold tracking-widest">æ•°å­—åŒ–å­˜ç»­æŒ‡æ•°</span>
                                        <span className="text-4xl font-bold text-white digital-font mt-1 number-glow">96.4 <span className="text-sm text-[#c5a059]">%</span></span>
                                    </div>
                                    <div className="w-14 h-14 bg-red-900/20 rounded-full flex items-center justify-center border border-red-500/20 group-hover:scale-110 transition-transform">
                                        <span className="text-2xl">âš¡</span>
                                    </div>
                                </div>
                                <div className="flex-1 glass-panel p-6 flex items-center justify-between group hover:bg-[#c5a059]/10 cursor-pointer">
                                    <div className="flex flex-col">
                                        <span className="text-[10px] text-gray-500 uppercase font-bold tracking-widest">éé—æ–‡åŒ–è¾å°„åŠ›</span>
                                        <span className="text-4xl font-bold text-white digital-font mt-1 number-glow">8.2 <span className="text-sm text-[#c5a059]">M+</span></span>
                                    </div>
                                    <div className="w-14 h-14 bg-[#c5a059]/10 rounded-full flex items-center justify-center border border-[#c5a059]/20 group-hover:scale-110 transition-transform">
                                        <span className="text-2xl">ğŸŒ</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* å³ä¾§æ’è¡Œä¸åŠ¨æ€ */}
                        <div className="col-span-3 row-span-6 flex flex-col gap-5 min-h-0">
                            <Panel title="åœ°åŸŸé›†ä¸­åº¦æ’è¡Œ" icon="ğŸ†" className="h-[30%]">
                                <div ref={barRef} className="w-full h-full" />
                            </Panel>
                            
                            <Panel title="æ¬¡çº§é—¨ç±»æƒé‡" icon="ğŸ©" className="h-[30%]">
                                <div ref={pieRef} className="w-full h-full" />
                            </Panel>

                            <Panel title="éé—å‘ç°ä¹‹æ—…" icon="ğŸ—ºï¸" className="flex-1 overflow-hidden">
                                <div className="h-full overflow-y-auto pr-2 scrollbar-thin">
                                    <div className="space-y-4 py-2">
                                        {DISCOVERY_ITEMS.map((item) => (
                                            <div 
                                                key={item.id} 
                                                onClick={() => handleDiscoveryClick(item)}
                                                className={`discovery-card p-3 cursor-pointer relative group ${selectedItem === item.id ? 'active shadow-[inset_0_0_15px_rgba(142,28,28,0.3)]' : ''}`}
                                            >
                                                <div className="flex justify-between items-start mb-1">
                                                    <span className="text-sm font-bold text-white group-hover:text-[#c5a059] transition-colors">{item.name}</span>
                                                    <span className="text-[9px] text-[#c5a059] bg-[#c5a059]/10 px-1 border border-[#c5a059]/20 rounded">{item.loc}</span>
                                                </div>
                                                <p className="text-[10px] text-gray-500 leading-relaxed line-clamp-2 italic">"{item.desc}"</p>
                                                <div className="flex justify-between items-center mt-2 border-t border-white/5 pt-2">
                                                    <span className="text-[9px] text-gray-600 digital-font uppercase">{item.date}</span>
                                                    <span className="text-[9px] text-red-500/80 font-bold">#{item.type}</span>
                                                </div>
                                                {selectedItem === item.id && (
                                                    <div className="absolute right-2 top-1/2 -translate-y-1/2 text-[#c5a059] animate-bounce">
                                                        ğŸ“
                                                    </div>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </Panel>
                        </div>
                    </div>

                    {/* åº•éƒ¨è£…é¥°æ¡ */}
                    <div className="absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#8e1c1c] to-transparent opacity-50"></div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
